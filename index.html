<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elegant Simon</title>
    <!-- Confetti Library --> 
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>:root {
        --bg-color: #222831;
        --panel-color: #393E46;
        --green: #00ADB5;
        --red: #FF2E63;
        --yellow: #F9D342;
        --blue: #6A2C70;
        --white: #EEEEEE;
    }

    body {
        margin: 0;
        display: flex;
        flex-direction: column;
        justify-content: center; /* Vertical Center */
        align-items: center;     /* Horizontal Center */
        
        /* --- FIX FOR MOBILE SCROLL --- */
        height: 100vh;       /* Fallback for old browsers */
        height: 100dvh;      /* "dvh" ignores mobile URL bars -> No Scroll! */
        
        background-color: var(--bg-color);
        font-family: 'Segoe UI', sans-serif;
        color: var(--white);
        user-select: none;
        overflow: hidden;    /* Scrollbar ko bilkul band kar diya */
        
        /* Footer ke liye thodi jagah banayi taaki overlap na ho */
        padding-bottom: 60px; 
        box-sizing: border-box;
    }

    h1 {
        font-weight: 300;
        letter-spacing: 2px;
        margin-bottom: 20px; /* Default Gap */
        margin-top: 0;
    }

    /* Game Board */
    .game-board {
        position: relative;
        width: 300px;
        height: 300px;
        border-radius: 50%;
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-template-rows: 1fr 1fr;
        gap: 10px;
        padding: 10px;
        background: var(--panel-color);
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        
        /* Animation smoothness */
        transition: width 0.3s, height 0.3s; 
    }

    .btn {
        width: 100%; height: 100%;
        border-radius: 100%; 
        cursor: pointer; opacity: 0.6;
        transition: all 0.2s ease; border: none;
        -webkit-tap-highlight-color: transparent; /* Mobile pe blue tap box hatata hai */
    }

    .btn.top-left { border-top-left-radius: 100%; border-bottom-right-radius: 20px; background-color: var(--green); }
    .btn.top-right { border-top-right-radius: 100%; border-bottom-left-radius: 20px; background-color: var(--red); }
    .btn.bottom-left { border-bottom-left-radius: 100%; border-top-right-radius: 20px; background-color: var(--yellow); }
    .btn.bottom-right { border-bottom-right-radius: 100%; border-top-left-radius: 20px; background-color: var(--blue); }

    .btn:active, .btn.active { opacity: 1; transform: scale(0.95); box-shadow: 0 0 20px currentColor; }

    .center-panel {
        position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
        width: 35%; height: 35%; /* Responsive size inside board */
        background-color: var(--bg-color); border-radius: 50%;
        display: flex; flex-direction: column; justify-content: center; align-items: center;
        border: 5px solid var(--panel-color); z-index: 10;
    }

    .score-display { font-size: 24px; font-weight: bold; }
    .score-label { font-size: 10px; text-transform: uppercase; opacity: 0.7; }

    #startBtn {
        margin-top: 25px;
        padding: 10px 30px;
        background: transparent; border: 1px solid var(--white);
        color: var(--white); border-radius: 20px;
        cursor: pointer; font-size: 16px; transition: 0.3s;
        z-index: 20;
    }

    #startBtn:hover { background: var(--white); color: var(--bg-color); }

    /* Footer - Fixed at Bottom */
    footer {
        position: fixed;
        bottom: 15px;
        left: 50%;
        transform: translateX(-50%);
        
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        
        padding: 8px 20px;
        border-radius: 50px;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
        
        color: rgba(255, 255, 255, 0.6);
        font-size: 0.8rem;
        white-space: nowrap;
        z-index: 100;
        text-align: center;
    }

    footer a { color: var(--green); text-decoration: none; font-weight: bold; margin-left: 5px; }

    /* Modal */
    .modal-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.8); display: none; justify-content: center; align-items: center;
        z-index: 200; backdrop-filter: blur(5px);
    }
    .modal { background: var(--panel-color); padding: 30px; border-radius: 20px; text-align: center; }
    .modal h2 { margin: 0; color: var(--red); }
    .final-score { font-size: 40px; font-weight: bold; color: var(--green); display: block; margin: 10px 0; }
    .restart-btn { background: var(--green); border: none; padding: 10px 20px; color: white; border-radius: 8px; font-size: 16px; margin-top: 10px; }
    @keyframes popIn { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }

    /* ---- MOBILE RESPONSIVE FIXES (Jadoo Yahan Hai) ---- */
    @media (max-width: 600px) {
        /* 1. Board ko chota kiya taaki fit aaye */
        .game-board {
            width: 260px; 
            height: 260px;
        }

        /* 2. Gaps kam kiye */
        h1 {
            margin-bottom: 15px;
            font-size: 1.8rem;
        }
        
        #startBtn {
            margin-top: 20px;
            padding: 8px 25px;
        }
    }
        /* Footer Styles - Updated with Glow Effect */
footer {
    position: fixed;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    
    padding: 8px 20px;
    border-radius: 50px;
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
    
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.8rem;
    white-space: nowrap;
    z-index: 100;
    text-align: center;
    transition: all 0.3s ease;
}

/* Footer Container Hover */
footer:hover {
    background: rgba(255, 255, 255, 0.1);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
}

/* --- LINK STYLING (ABDALLAH KHAN) --- */
footer a {
    color: var(--green); /* Teal Color */
    text-decoration: none;
    font-weight: 800; /* Thoda mota text */
    margin-left: 5px;
    display: inline-block; /* Animation ke liye zaroori hai */
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Bouncy effect */
}

/* HOVER EFFECT MAGIC */
footer a:hover {
    color: #fff; /* Text White ho jayega */
    text-shadow: 0 0 10px var(--green), 0 0 20px var(--green); /* Neon Glow */
    transform: scale(1.2) rotate(-2deg); /* Thoda bada hoga aur halka tedha */
    cursor: pointer;
}
    
    /* Tiny Phones (iPhone SE etc) */
    @media (max-height: 600px) {
        .game-board { width: 220px; height: 220px; }
        h1 { font-size: 1.5rem; margin-bottom: 10px; }
    }</style>
</head>
<body>
    

    <h1>SIMON</h1>

    <div class="game-board">
        <button id="green" class="btn top-left" data-color="green"></button>
        <button id="red" class="btn top-right" data-color="red"></button>
        <button id="yellow" class="btn bottom-left" data-color="yellow"></button>
        <button id="blue" class="btn bottom-right" data-color="blue"></button>

        <div class="center-panel">
            <span class="score-label">Level</span>
            <span class="score-display" id="level-count">0</span>
        </div>
    </div>

    <button id="startBtn">Start Game</button>

    <!-- Popup Modal -->
    <div class="modal-overlay" id="gameOverModal">
        <div class="modal">
            <h2>GAME OVER</h2>
            <p>You reached</p>
            <span class="final-score" id="finalScore">0</span>
            <button class="restart-btn" onclick="resetGame()">Try Again</button>
        </div>
    </div>
<!-- Glassy Footer -->
<footer>
    Designed & Developed by 
    <a href="https://www.linkedin.com/in/mdabdallahkhan?utm_source=share_via&utm_content=profile&utm_medium=member_android" target="_blank">Md Abdallah Khan</a>
</footer>
<script>
     const gameColors = ["green", "red", "yellow", "blue"];
        let gamePattern = [];
        let userClickedPattern = [];
        let started = false;
        let level = 0;

        const levelDisplay = document.getElementById("level-count");
        const modal = document.getElementById("gameOverModal");
        const finalScoreDisplay = document.getElementById("finalScore");
        const startBtn = document.getElementById("startBtn");

        // Sounds (Simple synth frequencies)
        const frequencies = { green: 261.63, red: 329.63, yellow: 392.00, blue: 493.88 }; // C, E, G, B
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(name) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.type = 'sine';
            osc.frequency.setValueAtTime(frequencies[name], audioCtx.currentTime);
            gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.5);
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.5);
        }

        function animatePress(currentColor) {
            const btn = document.getElementById(currentColor);
            btn.classList.add("active");
            setTimeout(() => btn.classList.remove("active"), 150);
        }

        document.querySelectorAll(".btn").forEach(btn => {
            btn.addEventListener("click", function() {
                if (!started) return;
                const userChosenColor = this.id;
                userClickedPattern.push(userChosenColor);
                playSound(userChosenColor);
                animatePress(userChosenColor);
                checkAnswer(userClickedPattern.length - 1);
            });
        });

        startBtn.addEventListener("click", function() {
            if (!started) {
                resetGameVars();
                nextSequence();
                started = true;
                this.style.display = 'none';
            }
        });

        function nextSequence() {
            userClickedPattern = [];
            level++;
            levelDisplay.innerText = level;
            const randomNumber = Math.floor(Math.random() * 4);
            const randomChosenColor = gameColors[randomNumber];
            gamePattern.push(randomChosenColor);

            // Flash sequence
            setTimeout(() => {
                playSound(randomChosenColor);
                animatePress(randomChosenColor);
            }, 500);
        }

        function checkAnswer(currentLevel) {
            if (gamePattern[currentLevel] === userClickedPattern[currentLevel]) {
                if (userClickedPattern.length === gamePattern.length) {
                    setTimeout(function () {
                        nextSequence();
                    }, 1000);
                }
            } else {
                gameOver();
            }
        }

        function gameOver() {
            playSound("red"); // error sound reuse
            document.body.style.backgroundColor = "#391010";
            
            // Show Modal
            finalScoreDisplay.innerText = level - 1;
            modal.style.display = "flex";
            
            // Trigger Poppers (Confetti)
            fireConfetti();

            setTimeout(() => {
                document.body.style.backgroundColor = "#222831";
            }, 200);
            
            started = false;
        }

        function resetGameVars() {
            level = 0;
            gamePattern = [];
            started = false;
        }

        function resetGame() {
            modal.style.display = "none";
            resetGameVars();
            setTimeout(() => {
                nextSequence();
                started = true;
            }, 500);
        }

        // Confetti Logic
        function fireConfetti() {
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 200 };

            var random = function(min, max) { return Math.random() * (max - min) + min; }

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);
                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }
</script>
</body>
</html>